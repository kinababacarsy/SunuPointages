<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="logo">
      <img src="assets/logo.png" alt="Logo">
    </div>
    <nav class="navigation">
      <a href="#" class="active">Home</a>
      <a href="#">Departements</a>
      <a href="#">Cohortes</a>
      <a href="#">Pointages</a>
      <a href="#">Deconnexion</a>
    </nav>
    <div class="profile">
      <img src="assets/profile.png" alt="Profile">
    </div>
  </header>
<main class="dashboard-content">
  <!-- Cards Section -->
  <div class="stats-cards">
    <div class="stat-card">
      <div class="card-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="card-content">
        <h3>Total des Employés</h3>
        <p>{{ totalEmployes }}</p>
      </div>
    </div>
    
    <div class="stat-card blue-card">      <div class="card-icon">
        <i class="fas fa-graduation-cap"></i>
      </div>
      <div class="card-content">
        <h3>Total des Apprenants</h3>
        <p>{{ totalApprenants }}</p>
      </div>
    </div>
  </div>

 <div class="info-card">
  <div class="row align-items-center">
    <!-- Heure et Date -->
    <div class="col-md-3 date-time">
      <i class="bi bi-calendar text-warning me-2 fs-4"></i>
      <div>
        <p class="text-muted mb-0">{{ date.split(',')[0] }}</p>
        <h2>{{ date.split(',')[1] }}</h2>
      </div>
    </div>

    <!-- Statistiques -->
    <div class="col-md-9 stats-row">
      <div class="stat-box large">
        <span class="stat-label">Départements</span>
        <span class="stat-value">{{ totalDepartements }}</span>
      </div>
      <div class="stat-box large">
                <span class="stat-label">Cohortes</span>
        <span class="stat-value">{{ totalCohortes }}</span>
      </div>
      <div class="stat-box large">
                <span class="stat-label">Nombre d'Admins</span>
        <span class="stat-value">{{ totalAdmins }}</span>
      </div>
      <div class="stat-box large">
                <span class="stat-label">Nombre de Vigiles</span>
        <span class="stat-value">{{ totalVigiles }}</span>
      </div>
    </div>
  </div>
</div>

        <!-- Presence List & Chart -->

  <!-- Presence Table -->
  <div class="row g-4">
    <div class="col-lg-8">
      <div class="card shadow-sm">
        <div class="card-header bg-white d-flex justify-content-between align-items-center">

          <h6 class="mb-0">Liste de présences</h6>
          <div class="d-flex gap-2 align-items-center">

          <div class="presence-filters">
        <span>Total: {{ presences.length }}</span>

         <!-- Filtres et barre de recherche -->
      <div class="d-flex justify-content-between mb-3">
        <select class="form-select">
          <option value="employe">Employés</option>
          <option value="apprenant">Apprenants</option>
        </select>
        <input type="text" class="form-control" placeholder="Rechercher...">
      </div>
      </div>
    </div>
    
    <div class="table-responsive">
      <table class="table table-hover mb-0">
        <thead>
          <tr>
            <th>Matricule</th>
            <th>Employé/Apprenant</th>
            <th>Date</th>
            <th>Département</th>
            <th>Entrée</th>
            <th>Sortie</th>
            <th>Statut</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let presence of presences">
            <td>{{ presence.matricule }}</td>
            <td>{{ presence.employe }}</td>
            <td>{{ presence.date }}</td>
            <td>{{ presence.departement }}</td>
            <td>{{ presence.entree }}</td>
            <td>{{ presence.sortie }}</td>
            <td>
              <span [class]="'badge rounded-pill ' + presence.statusClass">
                {{presence.status}}
              </span>
            </td>
             </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

  <!-- Graphique en cercle -->
  <div class="col-lg-4">
    <div class="card shadow-sm">
      <div class="card-header bg-white">
        <h6 class="mb-0">Historiques</h6>
      </div>
      <div class="card-body">
        <div echarts [options]="pieChartOptions" class="echart"></div>
      </div>
    </div>
  </div>
</div>
</div>
      

      
        
        
  
</main>